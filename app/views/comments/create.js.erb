if ($('#comments_<%= @comment.vi_option.gsub(/\s/,'') %> .pagination').length > 0) {
  $('#comments_<%= @comment.vi_option.gsub(/\s/,'') %> .pagination').first().after("<%= escape_javascript(render :partial => 'comment', :locals => {:comment => @comment})%>");
} else {
  $('#comments_<%= @comment.vi_option.gsub(/\s/,'') %>').prepend("<%= escape_javascript(render :partial => 'comment', :locals => {:comment => @comment})%>");
}

$('#comment_body').val("");
update_chars_left(<%= Constants::MAX_COMMENT_LENGTH %>, $('#comment_body')[0], $('#limit_status'));
$('#comment_status').html('Comment posted under <%= @comment.vi_option %>');